<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Page with AI Agent</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <canvas id="myCanvas"></canvas>
    <div id="nav" class="navbar">
      <a class="monkey-target" href="#home" onclick="setActive('home')">Home</a>
      <a class="monkey-target" href="#services" onclick="setActive('services')"
        >Services</a
      >
      <a class="monkey-target" href="#about" onclick="setActive('about')"
        >About</a
      >
      <a class="monkey-target" href="#contact" onclick="setActive('contact')"
        >Contact</a
      >
    </div>
    <div class="sidebar" id="sidebar">
      <!-- Sidebar content will be injected here based on the active navbar item -->
    </div>
    <div class="content">
      <h2 class="monkey-target" id="home1">Welcome to the Home Page</h2>
      <p class="monkey-target" id="home2">
        This is some monkey-target content for the home page.
      </p>
      <h2 class="monkey-target" id="services1">Our Services</h2>
      <p class="monkey-target" id="services2">
        This is some monkey-target content about our services.
      </p>
      <h2 class="monkey-target" id="about1">About Us</h2>
      <p class="monkey-target" id="about2">
        This is some monkey-target content about us.
      </p>
      <h2 class="monkey-target" id="contact1">Contact Us</h2>
      <p class="monkey-target" id="contact2">
        This is some monkey-target content for contacting us.
      </p>
      <div id="div1" class="element" style="top: 100px; left: 100px"></div>
      <div id="div2" class="element" style="top: 200px; left: 200px"></div>
      <div id="div3" class="element" style="top: 300px; left: 300px"></div>
      <div id="div4" class="element" style="top: 400px; left: 400px"></div>
      <div id="div5" class="element" style="top: 500px; left: 500px"></div>
      <div id="div6" class="element" style="top: 600px; left: 600px"></div>
    </div>

    <div class="agent" id="agentDiv"></div>
    <script>
      function setActive(section) {
        document
          .querySelectorAll(".navbar a")
          .forEach((a) => a.classList.remove("active"));
        document
          .querySelector(`.navbar a[href="#${section}"]`)
          .classList.add("active");
        const sidebarContent = {
          home: `
                <h3 class="monkey-target">Home</h3>
                <a class="monkey-target" href="#home1">Home Subitem 1</a>
                <a class="monkey-target" href="#home2">Home Subitem 2</a>
            `,
          services: `
                <h3 class="monkey-target">Services</h3>
                <a class="monkey-target" href="#services1">Service Subitem 1</a>
                <a class="monkey-target" href="#services2">Service Subitem 2</a>
            `,
          about: `
                <h3 class="monkey-target">About</h3>
                <a class="monkey-target" href="#about1">About Subitem 1</a>
                <a class="monkey-target" href="#about2">About Subitem 2</a>
            `,
          contact: `
                <h3 class="monkey-target">Contact</h3>
                <a class="monkey-target" href="#contact1">Contact Subitem 1</a>
                <a class="monkey-target" href="#contact2">Contact Subitem 2</a>
            `,
        };
        document.getElementById("sidebar").innerHTML = sidebarContent[section];
      }
      setActive("home");
    </script>

    <script type="module">
      import { Agent } from "./src/agent.js";
      const targets = [...document.querySelectorAll(".monkey-target")];
      let currentIndex = 0;
      const agent = new Agent(agentDiv, targets);
    </script>
  </body>
</html>
